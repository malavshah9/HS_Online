{"version":3,"sources":["./src/app/changepass/changepass.page.html","./src/app/changepass/changepass.module.ts","./src/app/changepass/changepass.page.scss","./src/app/changepass/changepass.page.ts","./src/app/shared/Password_class.ts"],"names":[],"mappings":";;;;;;;;;AAAA,+FAA+F,YAAY,WAAW,mBAAmB,sBAAsB,sGAAsG,iBAAiB,8BAA8B,OAAO,UAAU,MAAM,MAAM,iHAAiH,iGAAiG,0IAA0I,iBAAiB,iOAAiO,aAAa,sSAAsS,aAAa,mTAAmT,aAAa,oPAAoP,YAAY,mEAAmE,MAAM,oJAAoJ,YAAY,iEAAiE,MAAM,oN;;;;;;;;;;;;;;;;;;;;;;ACAtiE;AACM;AACQ;AACW;AACrB;AAEM;AAEnD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B;CACF,CAAC;AAYF;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QAVhC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,kEAAmB;gBACnB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,+DAAc,CAAC;SAC/B,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBjC,+DAA+D,mJ;;;;;;;;;;;;;;;;;;;;;;ACAb;AACa;AACH;AACX;AAC2C;AACxC;AAOpD;IAGE,wBAAmB,KAAa,EAAS,KAAmB,EAAQ,KAAsB,EAAQ,WAAwB;QAAvG,UAAK,GAAL,KAAK,CAAQ;QAAS,UAAK,GAAL,KAAK,CAAc;QAAQ,UAAK,GAAL,KAAK,CAAiB;QAAQ,gBAAW,GAAX,WAAW,CAAa;QACxH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACvC,aAAa,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC;gBACpD,yDAAU,CAAC,QAAQ;aACpB,CAAC,CAAC;YACH,aAAa,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC;gBACpD,yDAAU,CAAC,QAAQ;aACpB,CAAC,CAAC;YACH,oBAAoB,EAAC,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC;gBAC1D,yDAAU,CAAC,QAAQ;aACpB,CAAC,CAAC;SACJ,CAAC,CAAC;IACL,CAAC;IACD,wCAAe,GAAf;QACE,IAAI,CAAC,QAAQ,GAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACjD,CAAC;IACD,iCAAQ,GAAR,cAAY,CAAC;IACP,gCAAO,GAAb;;;;;;;wBACM,WAAW,GAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;wBACrD,kBAAkB,GAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC;6BAEpE,YAAW,KAAG,kBAAkB,GAAhC,wBAAgC;wBAC7B,OAAO,GAAC,IAAI,+DAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,EAAC,WAAW,CAAC,CAAC;wBAC3E,MAAM,GAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBAC1C,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,EAAC,MAAM,CAAC,CAAC,SAAS,CAAC,UAAO,IAAQ;;;;;wCACjE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;6CACf,IAAI,CAAC,MAAM,EAAX,wBAAW;wCACZ,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;wCAC9B,qBAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gDAC/B,OAAO,EAAE,gCAAgC;gDACzC,QAAQ,EAAE,IAAI;gDACd,eAAe,EAAE,IAAI;gDACrB,eAAe,EAAE,MAAM;gDACvB,KAAK,EAAE,SAAS;6CACjB,CAAC;;wCANE,EAAE,GAAG,SAMP;wCACF,EAAE,CAAC,OAAO,EAAE,CAAC;;4CAGL,qBAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;4CAC9B,OAAO,EAAE,6BAA6B;4CACtC,QAAQ,EAAE,IAAI;4CACd,eAAe,EAAE,IAAI;4CACrB,eAAe,EAAE,MAAM;4CACvB,KAAK,EAAE,SAAS;yCACjB,CAAC;;wCANC,EAAE,GAAG,SAMN;wCACF,EAAE,CAAC,OAAO,EAAE,CAAC;;;;;6BAEhB,EAAC,aAAG;4BACH,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACnB,CAAC,CAAC,CAAC;;4BAGA,qBAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;4BACzB,OAAO,EAAE,6BAA6B;4BACtC,QAAQ,EAAE,IAAI;4BACd,eAAe,EAAE,IAAI;4BACrB,eAAe,EAAE,MAAM;4BACvB,KAAK,EAAE,SAAS;yBACjB,CAAC;;wBANF,EAAE,GAAC,SAMD,CAAC;wBACH,EAAE,CAAC,OAAO,EAAE,CAAC;;;;;;KAEd;IACH,+BAAM,GAAN;QACE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IACzC,CAAC;;gBAhEyB,mEAAM;gBAAe,uEAAa;gBAAe,8DAAe;gBAAqB,0DAAW;;IAH/G,cAAc;QAL1B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,sJAAqC;;SAEtC,CAAC;+EAI0B,mEAAM,EAAe,uEAAa,EAAe,8DAAe,EAAqB,0DAAW;OAH/G,cAAc,CAoE1B;IAAD,qBAAC;CAAA;AApE0B;;;;;;;;;;;;;ACZ3B;AAAA;AAAA;IACI,kBAAmB,aAAqB,EAAQ,iBAAyB;QAAtD,kBAAa,GAAb,aAAa,CAAQ;QAAQ,sBAAiB,GAAjB,iBAAiB,CAAQ;IAAG,CAAC;;;;;IACjF,eAAC;CAAA;AAFoB","file":"changepass-changepass-module-es5.js","sourcesContent":["module.exports = \"<!-- <ion-content> -->\\r\\n  <div style=\\\"background-color: #008000!important;height:100%;width:100%;text-align: center;vertical-align:middle;\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row justify-content-center align-items-center style='height: 100%; margin-top: 40%;'>\\r\\n        <h4><span>&nbsp;ID : {{userName}}&nbsp;&nbsp;</span></h4>\\r\\n      </ion-row>\\r\\n      <ion-row justify-content-center align-items-center style='height: 100%;'>\\r\\n        \\r\\n      <!-- <ion-col col-2></ion-col>  -->\\r\\n      <ion-col> \\r\\n    <h3>&nbsp;Reset Password</h3>\\r\\n      </ion-col></ion-row>\\r\\n      \\r\\n    <ion-row justify-content-center align-items-center style='height: 100%; margin-top: 20%;'>\\r\\n      <form [formGroup]=\\\"changeForm\\\">\\r\\n      <ion-col>\\r\\n        <ion-item color=\\\"#008000\\\">\\r\\n          <ion-input [clearInput]=\\\"true\\\" formControlName=\\\"oldPassword\\\" id=\\\"oldPassword\\\" style=\\\"font-size:17px; color:white;\\\" placeholder=\\\" Old Password\\\" type=\\\"password\\\"\\r\\n            [required]=\\\"true\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item color=\\\"#008000\\\">\\r\\n          <ion-input [clearInput]=\\\"true\\\" formControlName=\\\"newPassword\\\" id=\\\"newPassword\\\" style=\\\"font-size:17px; color:white;\\\" placeholder=\\\"New Password\\\" type=\\\"password\\\"\\r\\n            [required]=\\\"true\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item color=\\\"#008000\\\">\\r\\n          <ion-input [clearInput]=\\\"true\\\" formControlName=\\\"confirmNewPassword\\\" id=\\\"confirmNewPassword\\\" style=\\\"font-size:17px; color:white;\\\" placeholder=\\\"Confirm Password\\\" type=\\\"password\\\"\\r\\n            [required]=\\\"true\\\"></ion-input>\\r\\n        </ion-item>\\r\\n       <br>\\r\\n        <ion-button  [disabled]=\\\"!changeForm.valid\\\" color=\\\"danger\\\" style=\\\"color:rgb(255, 38, 0);height:30px;\\\" type=\\\"submit\\\" (click)=\\\"onClick()\\\">\\r\\n          Change&nbsp;&nbsp;\\r\\n          <ion-icon name=\\\"Send\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button   color=\\\"primary\\\" style=\\\"color:rgb(255, 38, 0);height:30px;\\\" type=\\\"reset\\\" (click)=\\\"onExit()\\\">\\r\\n          Cancel&nbsp;&nbsp;\\r\\n          <ion-icon name=\\\"close-circle\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        \\r\\n  </ion-col>\\r\\n</form>\\r\\n</ion-row>\\r\\n</ion-grid>\\r\\n\\r\\n    \\r\\n</div>\\r\\n<!-- </ion-content> -->\\r\\n\\r\\n\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChangepassPage } from './changepass.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChangepassPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ChangepassPage]\r\n})\r\nexport class ChangepassPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYW5nZXBhc3MvY2hhbmdlcGFzcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '../../../node_modules/@angular/router';\r\nimport { UserDbService } from '../services/user-db.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { FormGroup, FormBuilder, FormControl, Validators, FormArray } from \"@angular/forms\";\r\nimport { Password } from '../shared/Password_class';\r\n\r\n@Component({\r\n  selector: 'app-changepass',\r\n  templateUrl: './changepass.page.html',\r\n  styleUrls: ['./changepass.page.scss'],\r\n})\r\nexport class ChangepassPage implements OnInit {\r\n  userName:String;\r\n  changeForm: FormGroup;\r\n  constructor(public route: Router,private useDb:UserDbService,public toast: ToastController,public formBuilder: FormBuilder) { \r\n    this.changeForm = this.formBuilder.group({\r\n      'oldPassword': new FormControl('', Validators.compose([\r\n        Validators.required\r\n      ])),\r\n      'newPassword': new FormControl('', Validators.compose([\r\n        Validators.required\r\n      ])),\r\n      'confirmNewPassword':new FormControl('', Validators.compose([\r\n        Validators.required\r\n      ]))\r\n    });\r\n  }\r\n  ionViewDidEnter(){\r\n    this.userName=localStorage.getItem('UserName');\r\n  }\r\n  ngOnInit() {}\r\n  async onClick(){\r\n    let newPassword=this.changeForm.get('newPassword').value;\r\n    let confirmNewPassword=this.changeForm.get('confirmNewPassword').value;\r\n    let t1:HTMLIonToastElement;\r\n    if(newPassword===confirmNewPassword){\r\n      let pasword=new Password(this.changeForm.get('oldPassword').value,newPassword);\r\n      let userId=localStorage.getItem('UserId');\r\n      this.useDb.changePassword(pasword,userId).subscribe(async (data:any)=>{\r\n        console.log(data);\r\n        if(data.result) {\r\n          this.route.navigateByUrl('/dashboard');\r\n          let t2 = await this.toast.create({\r\n            message: \"Password Changed Successfully!\",\r\n            duration: 1000,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Okay',\r\n            color: 'success'\r\n          });\r\n          t2.present();\r\n        }\r\n        else {\r\n         let t3 = await this.toast.create({\r\n            message: \"Old Passwords do not match!\",\r\n            duration: 1000,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Okay',\r\n            color: 'success'\r\n          });\r\n          t3.present();\r\n        }\r\n      },err=>{\r\n        console.log(err);\r\n      });\r\n    }\r\n    else{\r\n      t1=await this.toast.create({\r\n        message: \"New Passwords do not match!\",\r\n        duration: 1000,\r\n        showCloseButton: true,\r\n        closeButtonText: 'Okay',\r\n        color: 'success'\r\n      });\r\n      t1.present();\r\n      }\r\n    }\r\n  onExit(){\r\n    this.route.navigateByUrl('/dashboard');\r\n  }\r\n}\r\n","export class Password {\r\n    constructor(public user_password: string,public user_password_new: string) {}\r\n}\r\n"],"sourceRoot":""}