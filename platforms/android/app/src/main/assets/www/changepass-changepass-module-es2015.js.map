{"version":3,"sources":["./src/app/changepass/changepass.page.html","./src/app/changepass/changepass.module.ts","./src/app/changepass/changepass.page.scss","./src/app/changepass/changepass.page.ts","./src/app/shared/Password_class.ts"],"names":[],"mappings":"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","file":"changepass-changepass-module-es2015.js","sourcesContent":["module.exports = \"<!-- <ion-content> -->\\r\\n  <div style=\\\"background-color: #008000!important;height:100%;width:100%;text-align: center;vertical-align:middle;\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row justify-content-center align-items-center style='height: 100%; margin-top: 40%;'>\\r\\n        <h4><span>&nbsp;ID : {{userName}}&nbsp;&nbsp;</span></h4>\\r\\n      </ion-row>\\r\\n      <ion-row justify-content-center align-items-center style='height: 100%;'>\\r\\n        \\r\\n      <!-- <ion-col col-2></ion-col>  -->\\r\\n      <ion-col> \\r\\n    <h3>&nbsp;Reset Password</h3>\\r\\n      </ion-col></ion-row>\\r\\n      \\r\\n    <ion-row justify-content-center align-items-center style='height: 100%; margin-top: 20%;'>\\r\\n      <form [formGroup]=\\\"changeForm\\\">\\r\\n      <ion-col>\\r\\n        <ion-item color=\\\"#008000\\\">\\r\\n          <ion-input [clearInput]=\\\"true\\\" formControlName=\\\"oldPassword\\\" id=\\\"oldPassword\\\" style=\\\"font-size:17px; color:white;\\\" placeholder=\\\" Old Password\\\" type=\\\"password\\\"\\r\\n            [required]=\\\"true\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item color=\\\"#008000\\\">\\r\\n          <ion-input [clearInput]=\\\"true\\\" formControlName=\\\"newPassword\\\" id=\\\"newPassword\\\" style=\\\"font-size:17px; color:white;\\\" placeholder=\\\"New Password\\\" type=\\\"password\\\"\\r\\n            [required]=\\\"true\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item color=\\\"#008000\\\">\\r\\n          <ion-input [clearInput]=\\\"true\\\" formControlName=\\\"confirmNewPassword\\\" id=\\\"confirmNewPassword\\\" style=\\\"font-size:17px; color:white;\\\" placeholder=\\\"Confirm Password\\\" type=\\\"password\\\"\\r\\n            [required]=\\\"true\\\"></ion-input>\\r\\n        </ion-item>\\r\\n       <br>\\r\\n        <ion-button  [disabled]=\\\"!changeForm.valid\\\" color=\\\"danger\\\" style=\\\"color:rgb(255, 38, 0);height:30px;\\\" type=\\\"submit\\\" (click)=\\\"onClick()\\\">\\r\\n          Change&nbsp;&nbsp;\\r\\n          <ion-icon name=\\\"Send\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button   color=\\\"primary\\\" style=\\\"color:rgb(255, 38, 0);height:30px;\\\" type=\\\"reset\\\" (click)=\\\"onExit()\\\">\\r\\n          Cancel&nbsp;&nbsp;\\r\\n          <ion-icon name=\\\"close-circle\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        \\r\\n  </ion-col>\\r\\n</form>\\r\\n</ion-row>\\r\\n</ion-grid>\\r\\n\\r\\n    \\r\\n</div>\\r\\n<!-- </ion-content> -->\\r\\n\\r\\n\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChangepassPage } from './changepass.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChangepassPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ChangepassPage]\r\n})\r\nexport class ChangepassPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYW5nZXBhc3MvY2hhbmdlcGFzcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '../../../node_modules/@angular/router';\r\nimport { UserDbService } from '../services/user-db.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from \"@angular/forms\";\r\nimport { Password } from '../shared/Password_class';\r\n\r\n@Component({\r\n  selector: 'app-changepass',\r\n  templateUrl: './changepass.page.html',\r\n  styleUrls: ['./changepass.page.scss'],\r\n})\r\nexport class ChangepassPage implements OnInit {\r\n  userName:String;\r\n  changeForm: FormGroup;\r\n  constructor(public route: Router,private useDb:UserDbService,public toast: ToastController,public formBuilder: FormBuilder) { \r\n    this.changeForm = this.formBuilder.group({\r\n      'oldPassword': new FormControl('', Validators.compose([\r\n        Validators.required\r\n      ])),\r\n      'newPassword': new FormControl('', Validators.compose([\r\n        Validators.required\r\n      ])),\r\n      'confirmNewPassword':new FormControl('', Validators.compose([\r\n        Validators.required\r\n      ]))\r\n    });\r\n  }\r\n  ionViewDidEnter(){\r\n    this.userName=localStorage.getItem('UserName');\r\n  }\r\n  ngOnInit() {\r\n  }\r\n\r\n  async onClick(){\r\n    let newPassword=this.changeForm.get('newPassword').value;\r\n    let confirmNewPassword=this.changeForm.get('confirmNewPassword').value;\r\n    let t1:HTMLIonToastElement;\r\n    if(newPassword===confirmNewPassword){\r\n      let pasword=new Password(this.changeForm.get('oldPassword').value,newPassword);\r\n      let userId=localStorage.getItem('UserId');\r\n      this.useDb.changePassword(pasword,userId).subscribe(async (data:any)=>{\r\n        console.log(data);\r\n        if(data.result) {\r\n          this.route.navigateByUrl('/dashboard');\r\n          let t2 = await this.toast.create({\r\n            message: \"Password Changed Successfully!\",\r\n            duration: 1000,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Okay',\r\n            color: 'success'\r\n          });\r\n          t2.present();\r\n        }\r\n        else {\r\n         let t3 = await this.toast.create({\r\n            message: \"Old Passwords do not match!\",\r\n            duration: 1000,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Okay',\r\n            color: 'success'\r\n          });\r\n          t3.present();\r\n        }\r\n      },err=>{\r\n        console.log(err);\r\n      });\r\n    }\r\n    else{\r\n      t1=await this.toast.create({\r\n        message: \"New Passwords do not match!\",\r\n        duration: 1000,\r\n        showCloseButton: true,\r\n        closeButtonText: 'Okay',\r\n        color: 'success'\r\n      });\r\n      t1.present();\r\n      }\r\n    }\r\n  onExit(){\r\n    this.route.navigateByUrl('/dashboard');\r\n  }\r\n}\r\n","export class Password {\r\n    constructor(public user_password: string,public user_password_new: string) {}\r\n}\r\n"],"sourceRoot":""}